# Windows 방화벽 설정을 통한 MySQL(3306) 포트 개방 가이드

WSL2(Docker)에서 Windows 호스트의 MySQL에 접속하려면 Windows 방화벽에서 3306 포트 접속을 허용해 주어야 합니다. 다음 순서를 차근차근 따라와 주세요.

## 1단계: 고급 보안이 포함된 Windows Defender 방화벽 열기

1. 키보드의 `Windows 키`를 누릅니다.
2. 검색창에 `고급 보안` 이라고 입력합니다.
3. **"고급 보안이 포함된 Windows Defender 방화벽"** 앱을 클릭하여 실행합니다.

## 2단계: 새 인바운드 규칙 만들기

1. 왼쪽 패널에서 **"인바운드 규칙 (Inbound Rules)"**을 클릭합니다.
2. 오른쪽 "작업" 패널에서 **"새 규칙... (New Rule...)"**을 클릭합니다.

## 3단계: 규칙 마법사 설정 (중요)

마법사 창이 뜨면 다음 옵션을 순서대로 선택하고 **"다음(Next)"**을 누르세요.

1. **규칙 종류 (Rule Type)**

   - 선택: **`포트 (Port)`**

2. **프로토콜 및 포트 (Protocol and Ports)**

   - 프로토콜: **`TCP`** 선택
   - 특정 로컬 포트: 빈칸에 **`3306`** 입력

3. **작업 (Action)**

   - 선택: **`연결 허용 (Allow the connection)`**

4. **프로필 (Profile)**

   - 도메인, 개인, 공용 **모두 체크(v)** 해두는 것이 테스트 시 가장 확실합니다. (보안이 중요하다면 현재 네트워크 프로필만 선택, 보통 '공용'이나 '개인')

5. **이름 (Name)**
   - 이름: **`WSL MySQL 3306`** (나중에 찾기 쉽게 아무 이름이나 가능)
   - **"마침 (Finish)"** 클릭

## 4단계: 테스트 확인

이제 방화벽 설정이 끝났습니다. 다시 Docker 컨테이너를 재시작하거나 로그를 확인해보세요.

```bash
# 컨테이너 재시작
docker restart unigo_web

# 로그 확인
docker logs -f unigo_web
```

---

> [!TIP]
> 만약 그래도 안 된다면?
> MySQL 설정 파일(`my.ini`)을 열어서 `bind-address` 부분이 `127.0.0.1`로 되어 있는지 확인하세요. 이것을 주석 처리(`#`)하거나 `0.0.0.0`으로 바꿔야 외부(WSL)에서 접속 가능합니다.
